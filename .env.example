# ==============================================
# Avault Environment Configuration
# ==============================================
# Copy this file to .env and fill in the values
# For Docker deployment, only edit this file - values are automatically passed to containers

# ==============================================
# Docker Image Version
# ==============================================
# Version tag for pre-built Docker images (default: latest)
# Use specific versions for production: 1.0.0, 1.0, etc.
AVAULT_VERSION=latest

# ==============================================
# Database Configuration
# ==============================================
POSTGRES_USER=avault
POSTGRES_PASSWORD=your-secure-postgres-password
POSTGRES_DB=avault

# For local development (outside Docker):
# DATABASE_URL="postgresql://avault:your-password@localhost:5432/avault"

# ==============================================
# Redis Configuration
# ==============================================
# Leave empty for no password (development only)
# For production, set a strong password
REDIS_PASSWORD=

# For local development:
# REDIS_HOST=localhost
# REDIS_PORT=6379

# ==============================================
# Security Keys (REQUIRED)
# ==============================================
# CRITICAL: Generate these once and store securely!
# Loss of ENCRYPTION_KEY = must re-authenticate all cloud accounts

# Generate with: openssl rand -hex 32
ENCRYPTION_KEY=

# Generate with: openssl rand -base64 32
JWT_SECRET=

# ==============================================
# Google OAuth 2.0
# ==============================================
# Get credentials from: https://console.cloud.google.com/
# 1. Create a new project or select existing
# 2. Enable Google Drive API
# 3. Create OAuth 2.0 credentials (Web application)
# 4. Add authorized redirect URI (see GOOGLE_REDIRECT_URI below)

GOOGLE_CLIENT_ID=
GOOGLE_CLIENT_SECRET=

# Redirect URI must match exactly what's configured in Google Console
# For local development: http://localhost:4000/api/auth/callback/google
# For production: https://your-domain.com/api/auth/callback/google
GOOGLE_REDIRECT_URI=http://localhost:4000/api/auth/callback/google

# ==============================================
# Application URLs
# ==============================================
# URL where frontend is accessible (used for CORS and redirects)
FRONTEND_URL=http://localhost:3000

# Port to expose frontend on host (Docker only)
FRONTEND_PORT=3000

# ==============================================
# Cookie Settings
# ==============================================
# Domain for auth cookies (without protocol)
COOKIE_DOMAIN=localhost

# Set to true when using HTTPS in production
COOKIE_SECURE=false

# ==============================================
# NAS Configuration
# ==============================================
# Path where your NAS is mounted on the host machine
# This path will be mounted read-only inside containers
NAS_MOUNT_PATH=/mnt/nas

# ==============================================
# Worker Configuration
# ==============================================
# Number of concurrent backup jobs per worker
WORKER_CONCURRENCY=2

# Days to retain backup history logs
LOG_RETENTION_DAYS=30

# ==============================================
# Timezone Configuration
# ==============================================
# System timezone for scheduled backups (IANA timezone database format)
# This determines when cron schedules run (e.g., "Daily at 2 AM" = 2 AM in this timezone)
# Default: UTC
#
# Common examples:
#   UTC              - Coordinated Universal Time (default)
#   Asia/Jakarta     - Indonesia (UTC+7, no DST)
#   Asia/Singapore   - Singapore (UTC+8, no DST)
#   Asia/Kuala_Lumpur - Malaysia (UTC+8, no DST)
#   America/New_York - US East Coast (UTC-5/-4, with DST)
#   Europe/London    - UK (UTC+0/+1, with DST)
#
# Full list: https://en.wikipedia.org/wiki/List_of_tz_database_time_zones
TIMEZONE=UTC

# ==============================================
# Logging
# ==============================================
# Options: error, warn, info, debug
LOG_LEVEL=info
